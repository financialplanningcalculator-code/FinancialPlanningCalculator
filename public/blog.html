<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Blogs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; padding: 0 20px; }
    h1 { margin-bottom: 20px; }
    a.post-link {
      display: block;
      padding: 10px 0;
      border-bottom: 1px solid #ddd;
      color: #0366d6;
      text-decoration: none;
      font-size: 18px;
    }
    a.post-link:hover { text-decoration: underline; }
    #post { margin-top: 20px; display: none; }
    #backBtn { display: none; cursor: pointer; color: #0366d6; margin-top: 15px; }
  </style>
</head>
<body>

<h1>Blog Articles</h1>

<!-- LIST OF BLOG LINKS -->
<div id="blogList"></div>

<!-- BLOG CONTENT VIEW -->
<div id="post"></div>
<div id="backBtn">← Back to Blogs</div>

<script>
// ⭐ LIST YOUR BLOG FILES HERE ⭐
// These files must be inside: /public/Blogs/
const BLOG_FILES = [
  "blog_01.md",
  "blog_02.md",
  "blog_03.md",
  // add more here...
];

function renderBlogList() {
  const list = document.getElementById("blogList");
  list.innerHTML = "";

  BLOG_FILES.forEach(filename => {
    const link = document.createElement("a");
    link.className = "post-link";
    link.textContent = filename.replace(".md", "").replace(/_/g, " ");
    link.href = "javascript:void(0)";
    link.onclick = () => openBlog(filename);
    list.appendChild(link);
  });
}

async function openBlog(filename) {
  document.getElementById("blogList").style.display = "none";
  const post = document.getElementById("post");
  const backBtn = document.getElementById("backBtn");

  post.style.display = "block";
  backBtn.style.display = "block";
  post.innerHTML = "<p>Loading...</p>";

  const response = await fetch("./Blogs/" + filename);
  const md = await response.text();
  post.innerHTML = marked.parse(md);

  backBtn.onclick = () => {
    post.style.display = "none";
    backBtn.style.display = "none";
    document.getElementById("blogList").style.display = "block";
  };
}

renderBlogList();
</script>

</body>
</html>
